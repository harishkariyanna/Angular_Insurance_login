<div class="dashboard-container">
  <header class="dashboard-header">
    <h1>Insurance Management Dashboard</h1>
    <div class="user-info">
      <span *ngIf="currentUser">Welcome, {{ currentUser.firstName }} {{ currentUser.lastName }} ({{ currentUser.role.name }})</span>
      <button (click)="logout()" class="btn-logout">Logout</button>
    </div>
  </header>

  <main class="dashboard-content">
    <div class="actions" *ngIf="canCreatePolicy()">
      <button class="btn-primary">Create New Policy</button>
    </div>

    <div class="policies-section">
      <h2>Policies</h2>
      <div *ngIf="loading" class="loading">Loading policies...</div>
      
      <div *ngIf="!loading && policies.length === 0" class="no-data">
        No policies found.
      </div>

      <div *ngIf="!loading && policies.length > 0" class="policies-grid">
        <div *ngFor="let policy of policies" class="policy-card">
          <div class="policy-header">
            <h3>{{ policy.policyNumber }}</h3>
            <span class="status" [class]="'status-' + policy.status.toLowerCase()">{{ policy.status }}</span>
          </div>
          <div class="policy-details">
            <p><strong>Customer:</strong> {{ policy.customerName }}</p>
            <p><strong>Type:</strong> {{ policy.policyType }}</p>
            <p><strong>Premium:</strong> ₹{{ policy.premiumAmount | number }}</p>
            <p><strong>Coverage:</strong> ₹{{ policy.coverageAmount | number }}</p>
            <p><strong>Start Date:</strong> {{ policy.startDate | date }}</p>
            <p><strong>End Date:</strong> {{ policy.endDate | date }}</p>
          </div>
          <div class="policy-actions" *ngIf="canDeletePolicy()">
            <button class="btn-danger">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>